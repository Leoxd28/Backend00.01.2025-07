# üèÜ Hackathon 09 ‚Äì SQL en MySQL (Base Sakila)

Duraci√≥n total: **6 horas**  
Nivel: **Medio a Avanzado**  
Base de datos: **sakila**

---

## 1. Consultas B√°sicas (Calentamiento)

1. Listar los 10 primeros clientes con nombre y apellido ordenados alfab√©ticamente.  
2. Mostrar todas las pel√≠culas cuyo t√≠tulo empiece con la letra `A`.  
3. Contar cu√°ntas pel√≠culas hay por cada rating.  
4. Mostrar los actores con apellido `MONROE`.  
5. Listar las pel√≠culas y su duraci√≥n de renta.  

---

## 2. Joins Intermedios

6. Mostrar las pel√≠culas y su categor√≠a.  
7. Listar los clientes y la ciudad donde viven.  
8. Mostrar todas las pel√≠culas alquiladas por "MARY SMITH".  
9. Obtener la lista de actores que trabajaron en la pel√≠cula `"ACADEMY DINOSAUR"`.  
10. Listar empleados y n√∫mero de rentas que gestionaron.  

---

## 3. Funciones de Agregaci√≥n

11. Calcular el n√∫mero de pel√≠culas por cada categor√≠a.  
12. Mostrar los 10 clientes con m√°s rentas realizadas.  
13. Mostrar los 5 actores que aparecen en m√°s pel√≠culas.  
14. Calcular la suma total de pagos por cada cliente.  
15. Mostrar el ingreso total generado por cada empleado.  

---

## 4. Subconsultas

16. Listar los clientes que han gastado m√°s que el promedio de todos los clientes.  
17. Encontrar las pel√≠culas cuyo precio de renta sea mayor que el promedio de todas. 
18. Mostrar los actores que trabajaron en las mismas pel√≠culas que `"NICK WAHLBERG"`.  
19. Listar las pel√≠culas que nunca han sido rentadas.  
    20. Mostrar los clientes que nunca han realizado un pago.  

---

## 5. Funciones de Fecha

21. Listar el n√∫mero de rentas por mes y a√±o.  
22. Calcular el promedio de duraci√≥n de renta por mes.  
23. Mostrar el d√≠a de la semana donde se registraron m√°s rentas.  
24. Encontrar el cliente que hizo la primera renta en la base de datos.  
25. Listar el ingreso generado por cada a√±o.  

---

## 6. HAVING y GROUP BY Avanzado

26. Listar las categor√≠as donde haya m√°s de 60 pel√≠culas.  
27. Mostrar los clientes que hayan hecho m√°s de 30 rentas.  
28. Obtener las pel√≠culas que hayan sido rentadas m√°s de 50 veces.  
29. Listar los actores que participan en m√°s de 20 pel√≠culas.  
30 . Encontrar las ciudades donde hay m√°s de 10 clientes registrados.  

---

## 7. Uniones Avanzadas

31. Listar las pel√≠culas que est√©n en las categor√≠as Action o Comedy.  
32. Mostrar las pel√≠culas que est√©n en todas las categor√≠as menos Horror.  
33. Obtener los clientes que han alquilado pel√≠culas de Action pero no de Horror.  
34. Mostrar las ciudades que tienen clientes pero no tienen tiendas.  
35. Encontrar los actores que no han actuado en ninguna pel√≠cula de Children.  

--- 

## 8. CTEs y Derivadas

36. Crear un CTE que muestre el total de pagos por cliente y listar los que gastaron m√°s de 100 USD.  
37. Crear un CTE que muestre las pel√≠culas m√°s rentadas por categor√≠a.  
38. Usar un CTE para calcular el top 3 de ciudades con m√°s ingresos.  
39. Usar un CTE para obtener los empleados que registraron m√°s rentas que el promedio de todos.  
40. Crear una tabla derivada con el ranking de pel√≠culas m√°s alquiladas.  

---

## 9. Funciones de Ventana (MySQL 8+)

41. Mostrar el ranking de clientes seg√∫n monto pagado total.  
42. Listar las pel√≠culas m√°s rentadas con su posici√≥n de ranking dentro de cada categor√≠a.  
43. Calcular el ingreso acumulado por cliente en orden cronol√≥gico.  
44. Mostrar el n√∫mero total de rentas por cliente y la diferencia contra el promedio.  
45. Listar los top 5 actores por cantidad de pel√≠culas usando `ROW_NUMBER`.  

---

## 10. Retos Finales

46. Encontrar la pel√≠cula con el mayor n√∫mero de actores distintos.  
    47. Listar las 5 pel√≠culas m√°s largas que han sido alquiladas al menos una vez.  
    48. Calcular el ingreso promedio por pel√≠cula, mostrando solo aquellas que superen el promedio general.  
    49. Encontrar la categor√≠a m√°s rentable en total de ingresos.  
    50. Listar los 3 clientes m√°s valiosos (mayor pago total) y las pel√≠culas que m√°s alquilaron.  

---
        